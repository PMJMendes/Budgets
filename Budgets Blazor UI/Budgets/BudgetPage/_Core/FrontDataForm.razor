@using FluentValidation
@using Krypton.Budgets.Blazor.UI.Budgets.BudgetPage._Core

@inherits ErrorHandlingForm<BudgetsRouter, BudgetFrontModel>

<MudForm @ref="Form" Model="@Model" Validation="@Validator.ValidateValue" Class="@Class">
    <MudGrid Class="ma-0">
        <MudItem xs="6">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:FIELDS:TITLE"]"
                          @bind-Value="Model.Title" For="@(() => Model.Title)" />
        </MudItem>
        <MudItem xs="6">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:CLIENT"]"
                          @bind-Value="Model.FinalClient" For="@(() => Model.FinalClient)" />
        </MudItem>
<!---->
        <MudItem xs="6">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:PRODUCT"]"
                          @bind-Value="Model.Product" For="@(() => Model.Title)" />
        </MudItem>
        <MudItem xs="6">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:AGENCY"]"
                          @bind-Value="Model.Agency" For="@(() => Model.FinalClient)" />
        </MudItem>
<!---->
        <MudItem xs="12" Class="pa-2"><MudDivider /></MudItem>
<!---->
        <MudItem xs="2" />
        <MudItem xs="4" Class="flex-column" Style="min-height: 80px">
            <MudText Typo="Typo.h6">@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:VALUE"]</MudText>
            <MudText Typo="Typo.body2">@Model.Value.AsAnyValue()</MudText>
        </MudItem>
        <MudItem xs="2" />
        <MudItem xs="4" Class="flex-column" Style="min-height: 80px">
            <MudText Typo="Typo.h6">@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:CLIENT_VALUE"]</MudText>
            <MudText Typo="Typo.body2">@Model.ClientValue.AsAnyValue()</MudText>
        </MudItem>
<!---->
        <MudItem xs="12" Class="pa-2"><MudDivider /></MudItem>
<!---->
        <MudItem xs="4">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:FIELDS:BUDGETDATE"]"
                          @bind-Value="Model.BudgetDate" For="@(() => Model.BudgetDate)" />
        </MudItem>
        <MudItem xs="3">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:STUDIO_DAYS"]"
                          @bind-Value="Model.StudioDays" For="@(() => Model.StudioDays)" />
        </MudItem>
        <MudItem xs="5">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:TVAGENCY"]"
                          @bind-Value="Model.TVAgency" For="@(() => Model.TVAgency)" />
        </MudItem>
<!---->
        <MudItem xs="4">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:FILMDATE"]"
                          @bind-Value="Model.FilmDate" For="@(() => Model.FilmDate)" />
        </MudItem>
        <MudItem xs="3">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:LOCATION_DAYS"]"
                          @bind-Value="Model.LocationDays" For="@(() => Model.LocationDays)" />
        </MudItem>
        <MudItem xs="5">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:POST_DURATION"]"
                          @bind-Value="Model.PostProdDuration" For="@(() => Model.PostProdDuration)" />
        </MudItem>
<!---->
        <MudItem xs="4">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:DIRECTOR"]"
                          @bind-Value="Model.Director" For="@(() => Model.Director)" />
        </MudItem>
        <MudItem xs="3">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:OUTSIDE_DAYS"]"
                          @bind-Value="Model.OutsideDays" For="@(() => Model.OutsideDays)" />
        </MudItem>
        <MudItem xs="5">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:POST_VERSIONS"]"
                          @bind-Value="Model.PostProdVersions" For="@(() => Model.PostProdVersions)" />
        </MudItem>
<!---->
        <MudItem xs="4">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:PRODUCER"]"
                          @bind-Value="Model.Producer" For="@(() => Model.Producer)" />
        </MudItem>
        <MudItem xs="3">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:WEEKEND_HOLIDAYS"]"
                          @bind-Value="Model.WeekendHolidays" For="@(() => Model.WeekendHolidays)" />
        </MudItem>
        <MudItem xs="5">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:POST_SOUND"]"
                          @bind-Value="Model.PostProdSound" For="@(() => Model.PostProdSound)" />
        </MudItem>
<!---->
        <MudItem xs="4">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:RIGHTS"]"
                          @bind-Value="Model.Rights" For="@(() => Model.Rights)" />
        </MudItem>
        <MudItem xs="3">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:TOTAL_DAYS"]"
                          Value="Model.TotalDays" ReadOnly="true" />
        </MudItem>
        <MudItem xs="5">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:POST_NVOICES"]"
                          @bind-Value="Model.PostProdNVoices" For="@(() => Model.PostProdNVoices)" />
        </MudItem>
<!---->
        <MudItem xs="4">
            <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:FORMATS"]"
                          @bind-Value="Model.Formats" For="@(() => Model.Formats)" />
        </MudItem>
<!---->
        <MudItem xs="12" Class="pa-2"><MudDivider /></MudItem>
<!---->
        <MudItem xs="10">
            @if (english)
            {
                <MudTextField Variant="Variant.Text" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:COMMENTS"]"
                              @bind-Value="Model.CommentsEnglish" Lines="5" For="@(() => Model.CommentsEnglish)" />
            }
            else
            {
                <MudTextField Variant="Variant.Text" Lines="5" Label="@L["BUDGET:EDIT:TABS:FRONT_DATA:FIELDS:COMMENTS"]"
                              @bind-Value="Model.Comments" For="@(() => Model.Comments)" />
            }
        </MudItem>
        <MudItem xs="2" Class="buttons">
            <MudContainer MaxWidth="MaxWidth.False" Class="align-center">
                <MudText>@L["BUDGET:EDIT:TABS:FRONT_DATA:PORTUGUESE"]</MudText>
                <MudSwitch @bind-Value="@english" />
                <MudText>@L["BUDGET:EDIT:TABS:FRONT_DATA:ENGLISH"]</MudText>
            </MudContainer>
        </MudItem>
    </MudGrid>
</MudForm>

@code {
    private bool english = false;

	[Parameter]
    public BudgetFrontModel Model { get; set; } = default!;

    [Parameter]
    public string Class { get; set; } = string.Empty;
}
